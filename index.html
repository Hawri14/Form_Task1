<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="index.css">
</head>
<body>

    <div class="containerpt-4">
        <h2 class="title" id="data"></h2>
        <form class="blr" id="f1">
        <form action="" class="mb-3">
            <select class="form-select" name="data" id="sel1">
                <option value="0" selected>Please select ...</option>
            </select>
        </form>
        <div class="ca1" id="formoptions1">
            <form class="infof">
                <label for="email" id="Email"></label>
                <input type="email" name="email" id="Sub1" />
                <label for="telephone" id="Telephone"></label>
                <input type="email" name="email" id="Sub1" />
                <label for="nocontact" id="NoContact"></label>
                <input type="email" name="email" id="Sub1" />

        </div>


        <h2 class="title" id="data2"></h2>
        <form action="" class="mb-3">
            <select class="form-select" name="select" id="sel2">
                <option value="0">Please select ...</option>
            </select>
        </form>

        <div class="ca1" id="formoptions2">
            <form class="f1">
                <label for="email1" id="Email1"></label>
                <input type="email" name="email" id="Sub2" />
                <label for="telephone1" id="Telephone1"></label>
                <input type="email" name="email" id="Sub2" />
                <label for="nocontact1" id="NoContact1"></label>
                <input type="email" name="email" id="Sub2" />

        </div>

            <h2 class="title" id="data3"></h2>
            <form action="" class="mb-3">
                <select class="form-select" name="data" id="sel3">
                    <option value="0" selected>Please select ...</option>
                </select>
            </form>

            <div class="ca1" id="formoptions3">
                <form>
                    <label for="email2" id="Email2"></label>
                    <input type="email" name="email" id="Sub3" />
                    <label for="telephone2" id="Telephone2"></label>
                    <input type="email" name="email" id="Sub3" />
                    <label for="nocontact2" id="NoContact2"></label>
                    <input type="email" name="email" id="Sub3" />

                
            </div>
            <button type="submit" id="sub">Submit</button>
            </form>
                    
    </div>


    <script type="text/javascript">

        fetch('data.json')
        .then(res => res.json())
        .then(data => {
            console.log(data.forms[0].options)
            document.querySelector("#data").innerText = data.forms[0].name
            document.querySelector("#data2").innerText = data.forms[1].name
            document.querySelector("#data3").innerText = data.forms[2].name

            document.querySelector("#Email").innerText = data.forms[0].contact[0]
            document.querySelector("#Telephone").innerText = data.forms[0].contact[1]
            document.querySelector("#NoContact").innerText = data.forms[0].contact[2]

            document.querySelector("#Email1").innerText = data.forms[1].contact[0]
            document.querySelector("#Telephone1").innerText = data.forms[1].contact[1]
            document.querySelector("#NoContact1").innerText = data.forms[1].contact[2]

            document.querySelector("#Email2").innerText = data.forms[2].contact[0]
            document.querySelector("#Telephone2").innerText = data.forms[2].contact[1]
            document.querySelector("#NoContact2").innerText = data.forms[2].contact[2]

            
            console.log(data.forms[0].contact, "hello")


            $.each(data.forms[0].options, function(key,value){
                $("#sel1").append($("<option>", {
                    value: key+1,
                    text: value,
                }))
            })
            $("#formoptions1").css({ "display": "none" })
            $("#sel1").on("change",function(){
                if ($(this).val() == 0) {
                    $("#formoptions1").css({ "display": "none" })
                }
                if ($(this).val() != 0) {
                    $("#formoptions1").css({ "display": "block" })
                }
                console.log($(this).val());


            });

                $.each(data.forms[1].options, function (key, value) {
                $("#sel2").append($("<option>", {
                    value: key + 1,
                    text: value,
                }))
            })

            $("#formoptions2").css({ "display": "none" })
            $("#sel2").on("change", function () {
                if ($(this).val() == 0) {
                    $("#formoptions2").css({ "display": "none" })
                }
                if ($(this).val() != 0) {
                    $("#formoptions2").css({ "display": "block" })
                }
                console.log($(this).val());


            });

                $.each(data.forms[2].options, function (key, value) {
                $("#sel3").append($("<option>", {
                    value: key + 1,
                    text: value,
                }))
            })

            $("#formoptions3").css({ "display": "none" })
            $("#sel3").on("change", function () {
                if ($(this).val() == 0) {
                    $("#formoptions3").css({ "display": "none" })
                }
                if ($(this).val() != 0) {
                    $("#formoptions3").css({ "display": "block" })
                }
                console.log($(this).val());


            });


            
        });

        
    </script> 
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>


